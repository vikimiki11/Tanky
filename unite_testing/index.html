<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Tanky unit testing</title>
</head>
<body>
	<h1>
		Unit testing
	</h1>
	<script src="unitTesting.js"></script>

	<script src="../libraries/perlin.js"></script>
	<script src="../math.js"></script>
	<script src="../terrain.js"></script>
	<script src="../gadget.js"></script>
	<script src="../ammo.js"></script>
	<script src="../game.js"></script>
	<script src="../AI.js"></script>
	<script src="../player.js"></script>
	<script src="../tank.js"></script>

	<script>
		let vectorTests = [];
		let v1 = new Vector(0, 1);
		vectorTests.push(testNumber("Vector constructor x", 0, 0.01, v1.x));
		vectorTests.push(testNumber("Vector constructor y", 1, 0.01, v1.y));
		v1 = new Vector(10, 10);
		vectorTests.push(testNumber("Vector length", sqrt(200), 0.01, v1.length));
		vectorTests.push(testNumber("Vector angle", PI / 4, 0.0001, v1.angle));
		v1.length = 2;
		let angleBeforeChange = v1.angle;
		vectorTests.push(testNumber("Vector length after setting length", 2, 0.01, v1.length));
		vectorTests.push(testNumber("Vector angle after setting length", angleBeforeChange, 0.0001, v1.angle));
		v1.angle = PI * 22 / 3;
		console.log(v1.angle / PI * 180)
		console.log(PI * 22 / 3 / PI * 180)
		console.log(((PI * 22 / 3 )% (PI*2)) / PI * 180)
		vectorTests.push(testNumber("Vector angle after setting angle", -PI * 2 / 3, 0.0001, v1.angle));
		vectorTests.push(testNumber("Vector length after setting angle", 2, 0.01, v1.length));


		groupTest("Vector", vectorTests);
	</script>
</body>
</html>